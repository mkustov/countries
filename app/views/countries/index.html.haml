.container
  - if @countries.any?
    = render 'filter'
    .panel.panel-default.panel-primary
      .panel-heading
        %h3.panel-title Countries
      .panel-body
        %table.table.table-bordered
          %thead
            %tr
              %th Name
              %th Country Code
              %th Currency
              %th Currency Code
              %th
          %tbody
            - @countries.each do |country|
              %tr
                %td= country.name
                %td= country.country_code
                %td= country.currency_name
                %td= country.currency_code
                %td
                  - if country.visited?
                    = link_to 'Visided', country_path(country.id, country: { visited: false }), method: :patch, class: 'btn btn-success'
                  - else
                    = link_to 'Not Visided', country_path(country.id, country: { visited: true }), method: :patch, class: 'btn btn-primary'

  - else
    = link_to 'Load data', load_data_countries_path, method: :post
